{% extends 'base.html' %}
{% load static %}
{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Guide UI</title>
    <link rel="stylesheet" href="{% static 'css/tour-detail9.css' %}">
</head>
<body>

    <!-- Header Section -->
    <header class="hero">
        <img src="{% static 'images/background/akshar.jpg' %}" alt="Tour Place">
        <div class="overlay">
            <h1>Tour Detail</h1>
        </div>
    </header>
    <!--Ended Header Section -->

    <!-- Breadcrumb -->
    <nav class="breadcrumb">
      <ul>
          <li><a href="{% url 'index' %}">Home</a></li>
          <li>></li>
          <li class="current">Tour Detail</li>
      </ul>
    </nav>
    <!-- End Breadcrumb -->

    <!--Start of Image and Places -->
    <div class="container">
        <aside class="sidebar">
            <button class="search-btn">Search Places</button>
            <div class="categories">
                <h3>Cities</h3>
                <ul>
                    <li> <a href="{% url 'ahmedabad' %}"> Ahmedabad </a> </li>
                    <li> <a href="#"> Surat </a> </li>
                    <li> <a href="#"> Amreli </a> </li>
                    <li> <a href="#"> Veraval </a> </li>
                    <li> <a href="#"> Bhavnagar </a> </li>
                    <li> <a href="#"> Patan </a> </li>
                </ul>
                <h3>Nearby Places</h3>
                <ul>
                    <li> <a href="#"> Rani Ki Vav </a> </li>
                    <li> <a href="#"> The Vintage Car Museum </a> </li>
                    <li> <a href="#"> Sabarmati Ashram </a> </li>
                    <li> <a href="#"> Hutheesing Jain Temple </a> </li>
                    <li> <a href="#"> Jama Masjid </a> </li>
                    <li> <a href="#"> Jhulta Minar </a> </li>
                    <li> <a href="#"> Kankaria Lake </a> </li>
                    <li> <a href="#"> Lal Darwaza </a> </li>
                    <li> <a href="#"> Sabarmati Riverfront </a> </li>
                </ul>
            </div>
        </aside>

        <main class="content">
            <header class="place-header">
                <div class="place-info">
                    <div>
                        Average Rating: {{ avg_rating }} / 10 <span>
                            {% for _ in ""|ljust:avg_rating %}
                                ‚≠ê
                            {% endfor %}
                        </span><br>
                       Total Ratings: {{ total_ratings }}
                                       
                    </div> 
                    <h1>Lal Darvaza</h1>
                    <p><span>üìç</span> Ahmedabad, Gujarat</p> <br>
                    <p><span>üìû</span> 7923977219</p>
                </div>
                <div class="audio-section">
                    {% if user.is_authenticated %}
                        <a href="{% url 'Audio1' %}" class="audio-btn">Listen Audio</a>
                    {% else %}
                        <a href="#" class="audio-btn">Login To Listen Audio</a>
                    {% endif %}
                    <br> 
                    <span class="category">Historical</span>
                </div>
            </header>
            
            <section class="image-gallery">
                <button class="prev">&#10094;</button>
                <img src="{% static 'images/TourDetail/lal1.jpg' %}" alt="Lal Darvaza">
                <button class="next">&#10095;</button>
            </section>
            <div class="thumbnail-gallery">
                <img src="{% static 'images/TourDetail/lal1.jpg' %}" alt="Thumbnail 1">
                <img src="{% static 'images/TourDetail/lal2.jpg' %}" alt="Thumbnail 2">
                <img src="{% static 'images/TourDetail/lal3.jpg' %}" alt="Thumbnail 3">
                <img src="{% static 'images/TourDetail/lal4.jpg' %}" alt="Thumbnail 4">
            </div>
            <!--End of Image and Places -->


            <!-- Start of Overview Section -->
            <section class="overview">
                <h2>Overview</h2>
                <h3>About the Place:</h3> <br>
                <h4>Lal Darvaza</h4>

                <h4>History</h4>
                <p>Lal Darwaza was built in 1907. Prime Minister of Nizam government Maharaja Kishan Pershad started the Bonalu festival from this temple. The Nizam of Hyderabad Mir Mahbub Ali Khan gave donations and land to this and many other temples. A large red door at the entrance to this suburb was named Lal darwaza (Red Door) during
                    the time of the Nizams.</p>

                <h4>Culture</h4>
                <p>Bonala Jathara ("Procession" in English) at Lal Darwaza is considered the biggest cultural
                    festival in Telangana.</p>

                <h4>Geography</h4>
                <p>It is a kilometer from Charminar (1.5 km), Koti (4 km), Afzalgunj (3 km), CBS (Central Bus Station-IMLIBAN) (3 km), Chandrayangutta (1.5 km), Uppuguda (0.5 km) With the surroundings Aliyabad, Chatrinaka, Gowlipura, Rajannabai, Shalibanda. Earlier a Sufi Dargah with a writing engraved "Pather ki Dargha" ("Stone Mausoleum" in
                    English) was found in Lal Darwaza.</p>

                <h4>Commerical area</h4>
                <p>Many shops are present. A movie theater Sudha 70MM; now known as Cinepolis is located there.</p>

                <h4>Transport</h4>
                <p>Lal Darwaza is connected to other towns by TSRTC buses. A Bus Depot is nearby. The
                    closest AMTS is at Uppuguda.</p>

                <h3>Additional Info:</h3>
                <p>The information of Lal Darwaza is where is this place? how many days open and when it is open and colse.</p>
                <table>
                    <tr>
                        <th>Address</th>
                        <th>Timing</th>
                        <th>Days</th>
                    </tr>
                    <tr>
                        <td>Lal Darwaza , Ahmedabad</td>
                        <td>8:00 AM - 10:00 PM</td>
                        <td>Sunday - Saturday</td>
                    </tr>
                </table>

                <h3>Contact Number</h3>
                <p class="num">+91 0</p>
            </section>
            <!-- End of Overview Section -->


            <!-- Start of Location and Gallery Section -->
            <section class="location-gallery-container">
             <!-- Location Section -->
                <div class="location">
                    <h2>Location</h2>
                    <p>The world is a book, and those who do not travel read only a page.</p>
                    <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d6980.605284611848!2d72.581527!3d23.024153!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x395e85e6dee265b5%3A0x46793488c54c8fe1!2sLal%20darwaja!5e1!3m2!1sen!2sus!4v1741726443150!5m2!1sen!2sus" 
                     width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                </div>

                <!-- Gallery Section -->
                <div class="gallery">
                    <h2>Gallery</h2>
                    <p>A photograph is a secret about a secret. The more it tells you, the less you know.</p> <br>
                    <div class="gallery-images">
                        <img src="{% static 'images/TourDetail/lal1.jpg' %}" alt="Gallery Image 1">
                    </div>
                </div>
            </section>
            <!-- End of Location and Gallery Section -->



            <!-- Add this after the thumbnail-gallery section and before the overview section -->
            <section class="guide-selection">
                <h2>Choose Your Guide For this Monument</h2>
            
                <div class="guide-carousel">
                    <button class="prev-guide">&#10094;</button>
            
                    <div class="guides-container">
                        <div class="guide-profile active">
                            <div class="guide-image">
                                <img src="{% static 'images/guides/default-user.png' %}" alt="Guide - Patel Dhyan">
                            </div>
                            <h3 >Patel Dhyan</h3>
                            <p class="guide-price">Price : 300Rs</p>
                            
                            {% if user.is_authenticated %}
                            <a href="{% url 'bookguide' guide_name='Patel Dhyan' guide_place='Lal Darvaza' %}" class="book-guide"> Book Guide </a> 
                            {% else %}
                               <br> <p class="booking-info">Login to book a guide <a href="{% url 'login' %}" class="login-link">Login Now</a></p>
                            {% endif %}
                        </div>
            
                        <div class="guide-profile">
                            <div class="guide-image">
                                <img src="{% static 'images/guides/default-user.png' %}" alt="Guide - Shrey Patel">
                            </div>
                            <h3>Shrey Patel</h3>
                            <p class="guide-price">Price : 300000Rs</p>
            
                            {% if user.is_authenticated %}
                            <a href="{% url 'bookguide' guide_name='Shrey Patel' guide_place='Lal Darvaza' %}" class="book-guide"> Book Guide </a>
                            {% else %}
                                <p class="booking-info">Login to book a guide <a href="{% url 'login' %}" class="login-link">Login Now</a></p>
                            {% endif %}
                        </div>
            
                        <div class="guide-profile">
                            <div class="guide-image">
                                <img src="{% static 'images/guides/default-user.png' %}" alt="Guide - Darshan Raval">
                            </div>
                            <h3>Darshan Raval</h3>
                            <p class="guide-price">Price : 30000000Rs</p>
            
                            {% if user.is_authenticated %}
                            <a href="{% url 'bookguide' guide_name='Darshan Raval' guide_place='Lal Darvaza' %}" class="book-guide"> Book Guide </a>
                            {% else %}
                                <p class="booking-info">Login to book a guide <a href="{% url 'login' %}" class="login-link">Login Now</a></p>
                            {% endif %}
                        </div>
                    </div>
            
                    <button class="next-guide">&#10095;</button>
                </div>
            </section>
            <!-- End of Guide Selection -->


            <!-- Add this after the overview section and before the location-gallery-container -->
            <h4 class="r">Enter Rating for places </h4>
            <section class="ratings-reviews">
                <form method="POST">
                    {% csrf_token %}
                    <label for="rating-select">Select a rating Place:</label>
                    <select id="rating-select" name="place_name">
                        <option value="adalaj-stepwell" data-rating="excellent">Adalaj Stepwell</option>
                        <option value="rani-ki-vav" data-rating="good">Rani Ki Vav</option>
                        <option value="vintage-car-museum" data-rating="average">The Vintage Car Museum</option>
                        <option value="sabarmati-aashram" data-rating="poor">Sabarmati Aashram</option>
                        <option value="hutheesing-jain-temple" data-rating="excellent">Hutheesing Jain Temple</option>
                        <option value="jama-masjid" data-rating="good">Jama Masjid</option>
                        <option value="jhulta-minar" data-rating="average">Jhulta Minar</option>
                        <option value="kankaria-lake" data-rating="poor">Kankaria Lake</option>
                        <option value="lal-darvaja" data-rating="excellent">Lal Darvaja</option>
                        <option value="sabarmati-riverfront" data-rating="good">Sabarmati Riverfront</option>
                    </select>
                    
            
                    <label for="rate">Enter a reating(1-10):</label>
                    <input type="number" id="rateing" name="rateing" min="1" max="10" placeholder="Enter a number" required>
            
                    <button type="submit">Submit</button>
                </form>
            </section>
             <!--End Add this after the overview section and before the location-gallery-container -->

        </main>
    </div>

    <!-- Trending Tour Section -->
    <div class="trending-tour">
        <img src="{% static 'images/places/Heritage-Walk-Thumbnail1.jpg' %}" alt="Trending Tour" class="trending-image">
        <div class="trending-content">
            <h2>Discover the beauty and</h2>
            <h2> culture of your destination</h2> <br>
        <a href="{% url 'tour' %}" class="btn btn-primary">Trending Tour</a>
    </div>
    </div>
    <!-- End Trending Tour Section -->

    <script>
        document.addEventListener('DOMContentLoaded', function() {
        // Get all elements
        const mainImage = document.querySelector('.image-gallery img');
        const thumbnails = document.querySelectorAll('.thumbnail-gallery img');
        const prevButton = document.querySelector('.prev');
        const nextButton = document.querySelector('.next');
        
        // Initialize current image index
        let currentIndex = 0;
        const totalImages = thumbnails.length;
        
        // Load all image sources into an array for easy access
        const imageSources = Array.from(thumbnails).map(thumb => thumb.src);
        
        // Function to update the main image
        function updateMainImage(index) {
            // Make sure index is within bounds
            if (index < 0) index = totalImages - 1;
            if (index >= totalImages) index = 0;
            
            // Update current index
            currentIndex = index;
            
            // Set the main image source to the selected thumbnail source
            mainImage.src = imageSources[currentIndex];
            
            // Highlight the current thumbnail
            thumbnails.forEach((thumb, i) => {
                if (i === currentIndex) {
                    thumb.style.borderColor = '#a57e3b';
                    thumb.style.transform = 'scale(1.15)';
                } else {
                    thumb.style.borderColor = '#ccc';
                    thumb.style.transform = 'scale(1)';
                }
            });
        }
        
        // Set up click event for previous button
        prevButton.addEventListener('click', function() {
            updateMainImage(currentIndex - 1);
        });
        
        // Set up click event for next button
        nextButton.addEventListener('click', function() {
            updateMainImage(currentIndex + 1);
        });
        
        // Set up click events for thumbnails
        thumbnails.forEach((thumbnail, index) => {
            thumbnail.addEventListener('click', function() {
                updateMainImage(index);
            });
        });
        
        // Initialize the gallery with the first image
        updateMainImage(0);
    });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const prevButton = document.querySelector('.prev-guide');
            const nextButton = document.querySelector('.next-guide');
            const guides = document.querySelectorAll('.guide-profile');
            let currentGuideIndex = 0;
            
            // Hide all guides except the first one
            guides.forEach((guide, index) => {
                if (index !== 0) {
                    guide.classList.remove('active');
                }
            });
            
            prevButton.addEventListener('click', function() {
                guides[currentGuideIndex].classList.remove('active');
                currentGuideIndex = (currentGuideIndex - 1 + guides.length) % guides.length;
                guides[currentGuideIndex].classList.add('active');
            });
            
            nextButton.addEventListener('click', function() {
                guides[currentGuideIndex].classList.remove('active');
                currentGuideIndex = (currentGuideIndex + 1) % guides.length;
                guides[currentGuideIndex].classList.add('active');
            });
        });
        </script>

</body>
</html>

{%¬†endblock¬†%}